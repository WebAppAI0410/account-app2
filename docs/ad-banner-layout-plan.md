# AdBanner 表示レイアウト改善プラン

## 現状の課題
- `AdBannerManagerClient` がページコンテンツの前面に配置され、操作ボタンやイベント一覧を隠してしまう。
- イベント詳細ページからトップページに戻ると、バナーが消えてしまう（アンマウント時に hideBanner が呼ばれているため）。

## 改善方針
1. **レイアウトの配置変更**  
   - `AdBannerManagerClient` を `src/app/layout.tsx` に移動し、アプリ全体のルートレイアウトで管理する。
   - 親コンテナを `<div className="fixed bottom-0 w-full z-0">` とし、広告の z-index を最背面に設定する。

2. **コンテンツ領域の余白確保**  
   - 広告の高さ分だけコンテンツ領域に余白を追加（例: `pb-[60px] md:pb-[100px]`）して、スクロール時にもコンテンツが広告に隠れないようにする。

3. **z-index の分離**  
   - 広告コンテナに `z-0` を指定し、UI要素（サイドバー、ヘッダー、FABなど）に `z-10` 以上を指定して常に広告の手前に表示されるようにする。

4. **バナー表示の持続化**  
   - `useEffect` のクリーンアップで `hideBanner` を呼ぶロジックを見直し、ページ間遷移後も広告がアンマウント・非表示にならないように調整。

5. **safe-area 対応**  
   - iOSのホームバー領域にかからないよう、広告コンテナに `pb-env(safe-area-inset-bottom)` を追加。

---

上記の内容で実装を進めます。ご確認ください。